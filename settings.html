<!DOCTYPE html>
<html>
  <head>
    <title>The legends</title>
    <!-- Latest compiled and minified CSS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
    />

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="assets/css/style.css" />

    <link rel="stylesheet" href="assets/css/navbar.css" />
    <script src="https://cdn.jsdelivr.net/npm/luxon@2.1.1/build/global/luxon.min.js"></script>
    <link
      id="currenticon"
      rel="shortcut icon"
      type="x-icon"
      href="https://cdn.glitch.global/85ca753d-6f1a-4860-8d72-3d3d1723d7d9/Untitled_design__4_-removebg-preview.png?v=1696785070775"
    />
  </head>
  <body
    background="https://cdn.glitch.global/e70d5871-8531-48c2-b29b-ba2b7a9a9404/blue-background-background.gif?v=1696642503936"
  >
  <!-------------
  -----START-----
  --------------->
  <div style="display: flex" class="navdiv">
    <nav class="nav text-center" style="width: 18%;">
        <i class="uil uil-bars navOpenBtn"></i>
        <a
        href="/index.html"
        class="logo"
        style="text-align: center; margin-right: auto; margin-left: auto;"
        >The Legends</a
      >
      </nav>
    <nav class="nav text-center">
      <i class="uil uil-bars navOpenBtn"></i>
      <ul class="nav-links">
        <i class="uil uil-times navCloseBtn"></i>
        <li>
          <a href="index.html" style="text-decoration: none">
            <button
              class="button"
              style="
                margin-top: 10px;
                padding: 5px;
                width: 100px;
                border: 1px solid #ffffff;
                background: none;
                border-radius: 30px;
              "
            >
              <i class="fa-solid fa-house" style="margin-right: 5px"></i>Home
            </button>
          </a>
        </li>
        <li>
          <a href="games.html" style="text-decoration: none">
            <button
              class="button"
              style="
                margin-top: 10px;
                padding: 5px;
                margin-left: -10px;
                width: 100px;
                background: none;
                border: 1px solid #ffffff;
                border-radius: 30px;
              "
            >
              <i class="fa-solid fa-house" style="margin-right: 5px"></i>Games
            </button></a
          >
        </li>
        <li>
            <a href="apps.html" style="text-decoration: none">
              <button
                class="button"
                style="
                  margin-top: 10px;
                  padding: 5px;
                  margin-left: -10px;
                  width: 100px;
                  background: none;
                  border: 1px solid #ffffff;
                  border-radius: 30px;
                "
              >
                <i class="fa-solid fa-house" style="margin-right: 5px"></i>Apps
              </button></a
            >
          </li>
        <li>
          <a href="proxy.html" style="text-decoration: none">
            <button
              class="button"
              style="
                margin-top: 10px;
                padding: 5px;
                width: 100px;
                border: 1px solid #ffffff;
                margin-left: -10px;
                background: none;
                border-radius: 30px;
              "
            >
              <i class="fa-solid fa-house" style="margin-right: 5px"></i>Proxy
            </button></a
          >
          <a href="extra.html" style="text-decoration: none">
            <button
              class="button"
              style="
                margin-top: 10px;
                padding: 5px;
                width: 100px;
                border: 1px solid #ffffff;
                margin-left: 5px;
                background: none;
                border-radius: 30px;
              "
            >
              <i class="fa-solid fa-house" style="margin-right: 5px"></i>Extra
            </button></a
          >
          <a href="settings.html" style="text-decoration: none">
            <button
              class="button"
              style="
                margin-top: 10px;
                padding: 5px;
                width: 100px;
                border: 1px solid #ffffff;
                background: none;
                margin-left: 7px;
                border-radius: 30px;
              "
            >
              <i class="fa-solid fa-house"></i>Settings
            </button></a
          >
        </li>
      </ul>
    </nav>
    <nav class="nav text-center" style="width: 18%;">
        <i class="uil uil-bars navOpenBtn"></i>
        <div style="align-items: center; margin-right: auto; margin-left: auto;">
            <p id="time" class="text-center" style="margin-top: 10%;"></p>
            <script src="assets/js/timer.js"></script>
        </div>
      </nav>
  </div>    <script src="assets/js/random.js"></script>
  <!-------------
   ------END------
  --------------->
    <br />
    <br />
    <br />
    <div class="container-fluid">
      <div class="col-md-12">
        <h2 class="text-center" style="font-size: 45px">Settings</h2>
      </div>
      <br />
      <br />
      <br /><br /><br /><br />
      <div
        style="
          background: #4a68e8;
          border: 2px solid #ffffff;
          border-radius: 30px;
          width: 50%;
          margin-left: auto;
          margin-right: auto;
        "
        align="center"
      >
        <div class="background text-center">
          <div class="col-md-12">
            <p style="color: #0061ff; font-size: 35px; font-weight: 550">
              Tab cloaking
            </p>
          </div>
          <input
            type="text"
            id="title"
            placeholder="Custom title here..."
            class="input text-center"
            onkeyup="changeTitle()"
            style="border: 1px solid #ffffff"
          />
          <button
            class="button"
            id="resetTitle"
            onclick="resetTitle()"
            style="width: 20%"
          >
            Reset title
          </button>
          <br /><br />
          <input
            type="text"
            id="changeIcon"
            placeholder="Insert icon link..."
            class="input text-center"
            style="border: 1px solid #ffffff"
            onkeyup="changeFavicon()"
          />
          <button
            class="button"
            id="resetIcon"
            onclick="resetIcon()"
            style="width: 20%"
          >
            Reset favicon
          </button>
          <br/>
          <button
            class="button"
            style="width: 7%"
            id="setGDrive"
            onclick="gDrive();"
          >
            <img
              style="height: 100%; width: 100%"
              src="https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.png"
            />
          </button>
          <button
            class="button"
            style="width: 7%"
            id="setCanvas"
            onclick="canvas();"
          >
            <img
              style="height: 100%; width: 100%"
              src="https://du11hjcvx0uqb.cloudfront.net/dist/images/favicon-e10d657a73.ico"
            />
          </button>
          <button
            class="button"
            style="width: 7%"
            id="setSora"
            onclick="sora();"
          >
            <img
              style="height: 100%; width: 100%"
              src="https://soraapp.com/assets/wishbone/11.1.1/assets/images/favicon-192.png"
            />
          </button>
            <button
            class="button"
            style="width: 7%"
            id="setNP"
            onclick="nearpod();"
          >
            <img
              style="height: 100%; width: 100%"
              src="https://nearpod.com/blog/wp-content/uploads/2018/03/NearpodLogo_512x512.png"
            />
          </button>
          <br />
          <button
            class="button"
            id="resetAll"
            onclick="resetAll()"
            style="width: 30%"
          >
            Reset title and icon</button
          ><br />
        </div>
        <br />
      </div>
      <div
        style="
          background: #4a68e8;
          border: 2px solid #ffffff;
          border-radius: 30px;
          width: 50%;
          margin-left: auto;
          margin-right: auto;
          margin-top: 30px;
        "
        align="center"
      >
        <div class="background text-center" style="margin-top: 10px">
          <div class="col-md-12">
            <p style="color: #0061ff; font-size: 35px; font-weight: 550">
              About:blank cloak
            </p>
            <p>
              NOTE: Refreshing the page when it is about:blank will make it
              deactivate.
            </p>
          </div>
          <button
            class="button"
            id=""
            onclick="openBlankPage()"
            style="width: 35%"
          >
            Click me to cloak the site!
          </button>
          <br /><br />
          <p>
            About:blank cloaking is a recommended tool since teachers use
            relay<br />
            to block specific sites. (An example is google sites.)<br /><br />
            Clicking the button will redirect you to this same page, but the
            link is about:blank.<br />
            This is useful if the teacher is blocking this site.
          </p>
        </div>
      </div>
      <div
        style="
          background: #4a68e8;
          border: 2px solid #ffffff;
          border-radius: 30px;
          width: 50%;
          margin-left: auto;
          margin-right: auto;
          margin-top: 30px;
        "
        align="center"
      >
        <div class="background text-center" style="margin-top: 10px">
          <div class="col-md-12">
            <p style="color: #0061ff; font-size: 35px; font-weight: 550">
              Panic key system
            </p>
          </div>
          <button
            class="button"
            id="recordKey"
            style="width: 35%"
          >
            Record keystroke
          </button>
          <br />
          <div style="border: 2px solid #003F9E; border-radius: 15px; width: 50%; margin-right:auto; margin-left:auto;">
            <p>
            Recorded keystroke:
          </p>
          <p id="ksText" style="color: #339CFF; font-size:25px;">
            Record a keystroke!
          </p>
          </div>
          <input
            type="text"
            id="edulink"
            placeholder="Add custom link..."
            class="input text-center"
            style="border: 1px solid #ffffff"
          />
          <button
            class="button"
            id="setedulink"
            style="width: 20%"
          >
            Change link
          </button>
        </div>
      </div>
    </div>

    <div style="height: 100%">
      .<br />.<br />.<br />.<br />.<br />.<br />.<br />.<br />.
    </div>

    <footer class="footer text-center">
      © Copyright the legends. All rights reserved.
    </footer>

    <script>
      // Varibles
      const defaultTitle = "The legends";
      const savedTitle = localStorage.getItem("savedTitle");
      const savedFavicon = localStorage.getItem("savedFavicon");
      const savedKey = localStorage.getItem("savedKey");
      const savededulink = localStorage.getItem("savedEDU");
      var displayKeystroke = document.getElementById("ksText");
      var changeURL = document.getElementById("setedulink");
      let eduinput = document.getElementById("edulink");
      //Checks for saved favicon
      if (savedFavicon) {
        document.getElementById("currenticon").href = savedFavicon;
      }
      // Checks for saved title
      if (savedTitle) {
        document.title = savedTitle;
      }
      if (savedKey) {
        displayKeystroke.textContent = savedKey;
      }
      if (savededulink) {
        eduinput.value = savededulink;
      }
      ///////////////////////////
      //\\//\\//\\//\\//\\//\\//
      //////////////////////////
      var recordButton = document.getElementById("recordKey");
      
      function recordKeystroke(keystrokeeeee) {
        displayKeystroke.textContent = keystrokeeeee.key;
        if (keystrokeeeee.key !== " ") {
          document.removeEventListener("keydown", recordKeystroke);
          localStorage.setItem("savedKey", displayKeystroke.textContent);
          location.reload();
        } else {
          displayKeystroke.textContent = "[ENTER A KEY]";
        }
      }  
      
      recordButton.addEventListener("click", function() {
        displayKeystroke.textContent = "[ENTER A KEY]";
        document.addEventListener("keydown", recordKeystroke);
        
      });
      changeURL.addEventListener("click", function() {
        if (eduinput.value !== "") {
          localStorage.setItem("savedEDU", eduinput.value);
          location.reload();
        } else {
          alert('Error: cannot set a blank link, or must include ".com"');
        }
      });
      
      function handleKeyPress(event) {
        if (event.key === savedKey || event.key === savedKey) {
          if (savededulink.includes("https://")) {
            window.location.href = savededulink;
          } else {
            window.location.href = "https://" + savededulink;
          }

        }
      }
      document.addEventListener("keydown", handleKeyPress);

      
      ///////////////////////////
      //\\//\\//\\//\\//\\//\\//
      //////////////////////////
      
            // Changes the title for the website
      function changeTitle() {
        const title = document.getElementById("title").value;
        if (title !== "") {
          document.title = title;
        } else
          {
            document.title = "The legends";
          }
        
        // Saves it to local storage as an item
        localStorage.setItem("savedTitle", document.title);
      }
      // Changes the favicon for the website
      function changeFavicon() {
        const newFaviconUrl = document.getElementById("changeIcon").value;
        const faviconLink = document.getElementById("currenticon");

        if (newFaviconUrl.trim() !== "") {
          faviconLink.href = newFaviconUrl;
        } else{
          faviconLink.href = "https://cdn.glitch.global/85ca753d-6f1a-4860-8d72-3d3d1723d7d9/Untitled_design__4_-removebg-preview.png?v=1696785070775"
        }
        //Saves it to local storage as an item
        localStorage.setItem("savedFavicon", newFaviconUrl);
      }

      function resetTitle() {
        // Resets the custom title
        const title = document.getElementById("title").value;
        title.value = "";
        document.title = "The legends";
        
        localStorage.setItem("savedTitle", document.title);
      }

      function resetIcon() {
        // Resets the custom favicon
        const newFaviconUrl = document.getElementById("changeIcon").value;
        const faviconLink = document.getElementById("currenticon");

        faviconLink.href =
          "https://cdn.glitch.global/85ca753d-6f1a-4860-8d72-3d3d1723d7d9/Untitled_design__4_-removebg-preview.png?v=1696785070775";

        localStorage.setItem("savedFavicon", newFaviconUrl);
      }
      
         

      function sora() {
        // Built-in custom title and Favicon (SORA)
        const newFaviconUrl = document.getElementById("changeIcon").value;
        const faviconLink = document.getElementById("currenticon");
        const title = document.getElementById("title").value;
        title.value = "";
        newFaviconUrl.value = "";

        document.title = "Sora - Home";
        localStorage.setItem("savedTitle", document.title);
        faviconLink.href =
          "https://soraapp.com/assets/wishbone/11.1.1/assets/images/favicon-192.png";
        localStorage.setItem("savedFavicon", faviconLink.href);
      }

      function canvas() {
        // Built-in custom title and Favicon (CANVAS)
        const newFaviconUrl = document.getElementById("changeIcon").value;
        const faviconLink = document.getElementById("currenticon");
        const title = document.getElementById("title").value;
        title.value = "";
        newFaviconUrl.value = "";

        document.title = "Dashboard";
        localStorage.setItem("savedTitle", document.title);
        faviconLink.href =
          "https://du11hjcvx0uqb.cloudfront.net/dist/images/favicon-e10d657a73.ico";
        localStorage.setItem("savedFavicon", faviconLink.href);
      }

      function gDrive() {
        // Built-in custom title and Favicon (GOOGLE DRIVE)
        const newFaviconUrl = document.getElementById("changeIcon").value;
        const faviconLink = document.getElementById("currenticon");
        const title = document.getElementById("title").value;
        title.value = "";
        newFaviconUrl.value = "";

        document.title = "My Drive - Google Drive";
        localStorage.setItem("savedTitle", document.title);
        faviconLink.href =
          "https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.png";
        localStorage.setItem("savedFavicon", faviconLink.href);
      }
      function nearpod() {
        // Built-in custom title and Favicon (NEARPOD)
        const newFaviconUrl = document.getElementById("changeIcon").value;
        const faviconLink = document.getElementById("currenticon");
        const title = document.getElementById("title").value;
        title.value = "";
        newFaviconUrl.value = "";

        document.title = "Nearpod";
        localStorage.setItem("savedTitle", document.title);
        faviconLink.href =
          "https://nearpod.com/blog/wp-content/uploads/2018/03/NearpodLogo_512x512.png";
        localStorage.setItem("savedFavicon", faviconLink.href);
      }
      function resetAll() {
        // Function to reset all
        const newFaviconUrl = document.getElementById("changeIcon").value;
        const faviconLink = document.getElementById("currenticon");
        const title = document.getElementById("title").value;
        title.value = "";
        newFaviconUrl.value = "";

        document.title = "The legends";
        localStorage.setItem("savedTitle", document.title);
        faviconLink.href =
          "https://cdn.glitch.global/85ca753d-6f1a-4860-8d72-3d3d1723d7d9/Untitled_design__4_-removebg-preview.png?v=1696785070775";
        localStorage.setItem("savedFavicon", faviconLink.href);
      }
    </script>
    <!--
      Open a blank page
    -->
    <script>
      function openBlankPage() {
        var win = window.open();
        var url = window.location.href;
        var iframe = win.document.createElement("iframe");
        iframe.style.position = "fixed";
        iframe.style.width = "100%";
        iframe.style.height = "100%";
        iframe.style.border = "none";
        iframe.style.top = "0";
        iframe.style.bottom = "0";
        iframe.style.left = "0";
        iframe.style.right = "0";
        iframe.style.margin = "0";
        iframe.style.padding = "0";
        iframe.style.overflow = "hidden";
        iframe.src = url;
        win.document.body.appendChild(iframe);
      }
    </script>
  </body>
</html>
